2024-06-17 11:34:51.811 -05:00 [INF] Executed DbCommand (83ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2024-06-17 11:34:51.902 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2024-06-17 11:34:51.919 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-06-17 11:34:51.947 -05:00 [INF] No migrations were applied. The database is already up to date.
2024-06-17 11:34:52.517 -05:00 [ERR] Failed executing DbCommand (17ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 132), @p2='?' (Size = 21), @p3='?' (DbType = Int32), @p4='?' (DbType = Decimal), @p5='?' (Size = 3), @p6='?' (DbType = Int32), @p7='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Product" ("Id", "Description", "Name", "Status", "Stock", "Price_CurrencyType", "Price_DiscountPercent", "Price_Value")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-06-17 11:34:52.614 -05:00 [ERR] An exception occurred in the database while saving changes for context type 'TektonLabs.Challenge.Infraestructure.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'UNIQUE constraint failed: Product.Id'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'UNIQUE constraint failed: Product.Id'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-06-17 11:34:53.762 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-17 11:34:53.763 -05:00 [INF] Hosting environment: Development
2024-06-17 11:34:53.763 -05:00 [INF] Content root path: C:\hnavarro\Personal\Repository\TektonLabs\src\TektonLabs.Challenge.API
2024-06-17 11:34:54.167 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44332/swagger/index.html - null null
2024-06-17 11:34:54.820 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44332/swagger/index.html - 200 null text/html;charset=utf-8 659.9997ms
2024-06-17 11:34:54.926 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44332/_framework/aspnetcore-browser-refresh.js - null null
2024-06-17 11:34:54.929 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44332/_vs/browserLink - null null
2024-06-17 11:34:54.941 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44332/_framework/aspnetcore-browser-refresh.js - 200 13784 application/javascript; charset=utf-8 7.6789ms
2024-06-17 11:34:55.131 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44332/_vs/browserLink - 200 null text/javascript; charset=UTF-8 201.3497ms
2024-06-17 11:34:55.251 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44332/swagger/v1/swagger.json - null null
2024-06-17 11:34:55.426 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44332/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 175.1631ms
2024-06-17 11:38:37.396 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44332/api/products/2 - null null
2024-06-17 11:38:37.422 -05:00 [INF] Executing endpoint 'TektonLabs.Challenge.API.Controllers.Product.ProductsController.Get (TektonLabs.Challenge.API)'
2024-06-17 11:38:37.441 -05:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32, System.Threading.CancellationToken) on controller TektonLabs.Challenge.API.Controllers.Product.ProductsController (TektonLabs.Challenge.API).
2024-06-17 11:38:37.467 -05:00 [INF] Ejecutando el request: GetProductQuery
2024-06-17 11:38:37.760 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."Description", "p"."Name", "p"."Status", "p"."Stock", "p"."Price_CurrencyType", "p"."Price_DiscountPercent", "p"."Price_Value"
FROM "Product" AS "p"
WHERE "p"."Id" = @__id_0
LIMIT 1
2024-06-17 11:38:37.783 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__code_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Code", "s"."Name"
FROM "StatusType" AS "s"
WHERE "s"."Code" = @__code_0
LIMIT 1
2024-06-17 11:38:37.790 -05:00 [INF] El request GetProductQuery se ejecuto en: 322
2024-06-17 11:38:37.798 -05:00 [INF] Executing OkObjectResult, writing value of type 'TektonLabs.Challenge.Domain.Abstranctions.Result`1[[TektonLabs.Challenge.Application.Products.Get.GetProductResponse, TektonLabs.Challenge.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-17 11:38:37.812 -05:00 [INF] Executed action TektonLabs.Challenge.API.Controllers.Product.ProductsController.Get (TektonLabs.Challenge.API) in 368.3958ms
2024-06-17 11:38:37.813 -05:00 [INF] Executed endpoint 'TektonLabs.Challenge.API.Controllers.Product.ProductsController.Get (TektonLabs.Challenge.API)'
2024-06-17 11:38:37.819 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44332/api/products/2 - 200 null application/json; charset=utf-8 423.4327ms
2024-06-17 11:38:45.228 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44332/api/products/1 - null null
2024-06-17 11:38:45.229 -05:00 [INF] Executing endpoint 'TektonLabs.Challenge.API.Controllers.Product.ProductsController.Get (TektonLabs.Challenge.API)'
2024-06-17 11:38:45.231 -05:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32, System.Threading.CancellationToken) on controller TektonLabs.Challenge.API.Controllers.Product.ProductsController (TektonLabs.Challenge.API).
2024-06-17 11:38:45.235 -05:00 [INF] Ejecutando el request: GetProductQuery
2024-06-17 11:38:45.240 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."Description", "p"."Name", "p"."Status", "p"."Stock", "p"."Price_CurrencyType", "p"."Price_DiscountPercent", "p"."Price_Value"
FROM "Product" AS "p"
WHERE "p"."Id" = @__id_0
LIMIT 1
2024-06-17 11:38:45.241 -05:00 [INF] El request GetProductQuery se ejecuto en: 6
2024-06-17 11:38:45.242 -05:00 [INF] Executing OkObjectResult, writing value of type 'TektonLabs.Challenge.Domain.Abstranctions.Result`1[[TektonLabs.Challenge.Application.Products.Get.GetProductResponse, TektonLabs.Challenge.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-17 11:38:45.243 -05:00 [INF] Executed action TektonLabs.Challenge.API.Controllers.Product.ProductsController.Get (TektonLabs.Challenge.API) in 11.96ms
2024-06-17 11:38:45.243 -05:00 [INF] Executed endpoint 'TektonLabs.Challenge.API.Controllers.Product.ProductsController.Get (TektonLabs.Challenge.API)'
2024-06-17 11:38:45.243 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44332/api/products/1 - 200 null application/json; charset=utf-8 15.1498ms
2024-06-17 11:39:43.908 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44332/api/products/1 - null null
2024-06-17 11:39:43.912 -05:00 [INF] Executing endpoint 'TektonLabs.Challenge.API.Controllers.Product.ProductsController.Get (TektonLabs.Challenge.API)'
2024-06-17 11:39:43.938 -05:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32, System.Threading.CancellationToken) on controller TektonLabs.Challenge.API.Controllers.Product.ProductsController (TektonLabs.Challenge.API).
2024-06-17 11:39:43.939 -05:00 [INF] Ejecutando el request: GetProductQuery
2024-06-17 11:39:43.950 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."Description", "p"."Name", "p"."Status", "p"."Stock", "p"."Price_CurrencyType", "p"."Price_DiscountPercent", "p"."Price_Value"
FROM "Product" AS "p"
WHERE "p"."Id" = @__id_0
LIMIT 1
2024-06-17 11:40:00.136 -05:00 [INF] El request GetProductQuery se ejecuto en: 527
2024-06-17 11:40:03.167 -05:00 [INF] Executing OkObjectResult, writing value of type 'TektonLabs.Challenge.Domain.Abstranctions.Result`1[[TektonLabs.Challenge.Application.Products.Get.GetProductResponse, TektonLabs.Challenge.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-17 11:40:03.202 -05:00 [INF] Executed action TektonLabs.Challenge.API.Controllers.Product.ProductsController.Get (TektonLabs.Challenge.API) in 19263.4374ms
2024-06-17 11:40:03.202 -05:00 [INF] Executed endpoint 'TektonLabs.Challenge.API.Controllers.Product.ProductsController.Get (TektonLabs.Challenge.API)'
2024-06-17 11:40:06.476 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44332/api/products/1 - 200 null application/json; charset=utf-8 22569.3466ms
2024-06-17 11:40:10.912 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44332/api/products/1 - null null
2024-06-17 11:40:15.150 -05:00 [INF] Executing endpoint 'TektonLabs.Challenge.API.Controllers.Product.ProductsController.Get (TektonLabs.Challenge.API)'
2024-06-17 11:40:15.150 -05:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32, System.Threading.CancellationToken) on controller TektonLabs.Challenge.API.Controllers.Product.ProductsController (TektonLabs.Challenge.API).
2024-06-17 11:40:15.150 -05:00 [INF] Ejecutando el request: GetProductQuery
2024-06-17 11:40:15.152 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."Description", "p"."Name", "p"."Status", "p"."Stock", "p"."Price_CurrencyType", "p"."Price_DiscountPercent", "p"."Price_Value"
FROM "Product" AS "p"
WHERE "p"."Id" = @__id_0
LIMIT 1
2024-06-17 11:40:57.570 -05:00 [INF] El request GetProductQuery se ejecuto en: 779
2024-06-17 11:41:25.218 -05:00 [INF] Executing OkObjectResult, writing value of type 'TektonLabs.Challenge.Domain.Abstranctions.Result`1[[TektonLabs.Challenge.Application.Products.Get.GetProductResponse, TektonLabs.Challenge.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-17 11:41:25.220 -05:00 [INF] Executed action TektonLabs.Challenge.API.Controllers.Product.ProductsController.Get (TektonLabs.Challenge.API) in 70069.3454ms
2024-06-17 11:41:25.220 -05:00 [INF] Executed endpoint 'TektonLabs.Challenge.API.Controllers.Product.ProductsController.Get (TektonLabs.Challenge.API)'
2024-06-17 11:41:25.220 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44332/api/products/1 - 200 null application/json; charset=utf-8 74307.717ms
2024-06-17 11:41:54.955 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44332/api/products/2 - null null
2024-06-17 11:41:54.959 -05:00 [INF] Executing endpoint 'TektonLabs.Challenge.API.Controllers.Product.ProductsController.Get (TektonLabs.Challenge.API)'
2024-06-17 11:41:54.959 -05:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32, System.Threading.CancellationToken) on controller TektonLabs.Challenge.API.Controllers.Product.ProductsController (TektonLabs.Challenge.API).
2024-06-17 11:41:54.961 -05:00 [INF] Ejecutando el request: GetProductQuery
2024-06-17 11:41:54.965 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."Description", "p"."Name", "p"."Status", "p"."Stock", "p"."Price_CurrencyType", "p"."Price_DiscountPercent", "p"."Price_Value"
FROM "Product" AS "p"
WHERE "p"."Id" = @__id_0
LIMIT 1
2024-06-17 11:42:04.243 -05:00 [INF] El request GetProductQuery se ejecuto en: 282
2024-06-17 11:42:04.244 -05:00 [INF] Executing OkObjectResult, writing value of type 'TektonLabs.Challenge.Domain.Abstranctions.Result`1[[TektonLabs.Challenge.Application.Products.Get.GetProductResponse, TektonLabs.Challenge.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-17 11:42:04.244 -05:00 [INF] Executed action TektonLabs.Challenge.API.Controllers.Product.ProductsController.Get (TektonLabs.Challenge.API) in 9284.3087ms
2024-06-17 11:42:04.245 -05:00 [INF] Executed endpoint 'TektonLabs.Challenge.API.Controllers.Product.ProductsController.Get (TektonLabs.Challenge.API)'
2024-06-17 11:42:04.246 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44332/api/products/2 - 200 null application/json; charset=utf-8 9290.8195ms
2024-06-17 11:57:02.308 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44332/swagger/index.html - null null
2024-06-17 11:57:02.347 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44332/swagger/index.html - 200 null text/html;charset=utf-8 39.5789ms
2024-06-17 11:57:02.380 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44332/_framework/aspnetcore-browser-refresh.js - null null
2024-06-17 11:57:02.381 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44332/_framework/aspnetcore-browser-refresh.js - 200 13784 application/javascript; charset=utf-8 1.2513ms
2024-06-17 11:57:02.384 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44332/_vs/browserLink - null null
2024-06-17 11:57:02.397 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44332/_vs/browserLink - 200 null text/javascript; charset=UTF-8 13.0403ms
2024-06-17 11:57:02.554 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44332/swagger/v1/swagger.json - null null
2024-06-17 11:57:02.561 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44332/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 6.9746ms
2024-06-17 12:13:44.178 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44332/api/products/2 - null null
2024-06-17 12:13:44.178 -05:00 [INF] Executing endpoint 'TektonLabs.Challenge.API.Controllers.Product.ProductsController.Get (TektonLabs.Challenge.API)'
2024-06-17 12:13:44.179 -05:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32, System.Threading.CancellationToken) on controller TektonLabs.Challenge.API.Controllers.Product.ProductsController (TektonLabs.Challenge.API).
2024-06-17 12:13:44.179 -05:00 [INF] Ejecutando el request: GetProductQuery
2024-06-17 12:13:44.283 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."Description", "p"."Name", "p"."Status", "p"."Stock", "p"."Price_CurrencyType", "p"."Price_DiscountPercent", "p"."Price_Value"
FROM "Product" AS "p"
WHERE "p"."Id" = @__id_0
LIMIT 1
2024-06-17 12:13:56.041 -05:00 [INF] Executed DbCommand (790ms) [Parameters=[@__code_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Code", "s"."Name"
FROM "StatusType" AS "s"
WHERE "s"."Code" = @__code_0
LIMIT 1
2024-06-17 12:14:00.473 -05:00 [INF] El request GetProductQuery se ejecuto en: 293
2024-06-17 12:14:00.473 -05:00 [INF] Executing OkObjectResult, writing value of type 'TektonLabs.Challenge.Domain.Abstranctions.Result`1[[TektonLabs.Challenge.Application.Products.Get.GetProductResponse, TektonLabs.Challenge.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-17 12:14:00.474 -05:00 [INF] Executed action TektonLabs.Challenge.API.Controllers.Product.ProductsController.Get (TektonLabs.Challenge.API) in 16295.3627ms
2024-06-17 12:14:00.474 -05:00 [INF] Executed endpoint 'TektonLabs.Challenge.API.Controllers.Product.ProductsController.Get (TektonLabs.Challenge.API)'
2024-06-17 12:14:00.475 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44332/api/products/2 - 200 null application/json; charset=utf-8 16297.4998ms
2024-06-17 12:14:20.631 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44332/api/products/1 - null null
2024-06-17 12:14:20.634 -05:00 [INF] Executing endpoint 'TektonLabs.Challenge.API.Controllers.Product.ProductsController.Get (TektonLabs.Challenge.API)'
2024-06-17 12:14:20.634 -05:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32, System.Threading.CancellationToken) on controller TektonLabs.Challenge.API.Controllers.Product.ProductsController (TektonLabs.Challenge.API).
2024-06-17 12:14:20.634 -05:00 [INF] Ejecutando el request: GetProductQuery
2024-06-17 12:14:20.636 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."Description", "p"."Name", "p"."Status", "p"."Stock", "p"."Price_CurrencyType", "p"."Price_DiscountPercent", "p"."Price_Value"
FROM "Product" AS "p"
WHERE "p"."Id" = @__id_0
LIMIT 1
2024-06-17 12:15:20.842 -05:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2024-06-17 12:15:20.911 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2024-06-17 12:15:20.928 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-06-17 12:15:20.959 -05:00 [INF] No migrations were applied. The database is already up to date.
2024-06-17 12:15:21.287 -05:00 [ERR] Failed executing DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 145), @p2='?' (Size = 23), @p3='?' (DbType = Int32), @p4='?' (DbType = Decimal), @p5='?' (Size = 3), @p6='?' (DbType = Int32), @p7='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Product" ("Id", "Description", "Name", "Status", "Stock", "Price_CurrencyType", "Price_DiscountPercent", "Price_Value")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-06-17 12:15:21.322 -05:00 [ERR] An exception occurred in the database while saving changes for context type 'TektonLabs.Challenge.Infraestructure.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'UNIQUE constraint failed: Product.Id'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'UNIQUE constraint failed: Product.Id'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-06-17 12:15:21.644 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-17 12:15:21.644 -05:00 [INF] Hosting environment: Development
2024-06-17 12:15:21.645 -05:00 [INF] Content root path: C:\hnavarro\Personal\Repository\TektonLabs\src\TektonLabs.Challenge.API
2024-06-17 12:15:21.731 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44332/swagger/index.html - null null
2024-06-17 12:15:22.143 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44332/swagger/index.html - 200 null text/html;charset=utf-8 426.8531ms
2024-06-17 12:15:22.200 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44332/_framework/aspnetcore-browser-refresh.js - null null
2024-06-17 12:15:22.200 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44332/_vs/browserLink - null null
2024-06-17 12:15:22.204 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44332/_framework/aspnetcore-browser-refresh.js - 200 13784 application/javascript; charset=utf-8 4.2246ms
2024-06-17 12:15:22.261 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44332/_vs/browserLink - 200 null text/javascript; charset=UTF-8 60.6275ms
2024-06-17 12:15:22.331 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44332/swagger/v1/swagger.json - null null
2024-06-17 12:15:22.466 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44332/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 134.9438ms
2024-06-17 12:15:33.696 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44332/api/products/1 - null null
2024-06-17 12:15:33.709 -05:00 [INF] Executing endpoint 'TektonLabs.Challenge.API.Controllers.Product.ProductsController.Get (TektonLabs.Challenge.API)'
2024-06-17 12:15:33.748 -05:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32, System.Threading.CancellationToken) on controller TektonLabs.Challenge.API.Controllers.Product.ProductsController (TektonLabs.Challenge.API).
2024-06-17 12:15:33.780 -05:00 [INF] Ejecutando el request: GetProductQuery
2024-06-17 12:15:34.225 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."Description", "p"."Name", "p"."Status", "p"."Stock", "p"."Price_CurrencyType", "p"."Price_DiscountPercent", "p"."Price_Value"
FROM "Product" AS "p"
WHERE "p"."Id" = @__id_0
LIMIT 1
2024-06-17 12:15:37.856 -05:00 [INF] El request GetProductQuery se ejecuto en: 75
2024-06-17 12:15:37.863 -05:00 [INF] Executing OkObjectResult, writing value of type 'TektonLabs.Challenge.Domain.Abstranctions.Result`1[[TektonLabs.Challenge.Application.Products.Get.GetProductResponse, TektonLabs.Challenge.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-17 12:15:37.874 -05:00 [INF] Executed action TektonLabs.Challenge.API.Controllers.Product.ProductsController.Get (TektonLabs.Challenge.API) in 4122.7856ms
2024-06-17 12:15:37.874 -05:00 [INF] Executed endpoint 'TektonLabs.Challenge.API.Controllers.Product.ProductsController.Get (TektonLabs.Challenge.API)'
2024-06-17 12:15:37.877 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44332/api/products/1 - 200 null application/json; charset=utf-8 4181.6556ms
2024-06-17 12:17:55.506 -05:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2024-06-17 12:17:55.556 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2024-06-17 12:17:55.565 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-06-17 12:17:55.578 -05:00 [INF] No migrations were applied. The database is already up to date.
2024-06-17 12:17:55.811 -05:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 114), @p2='?' (Size = 17), @p3='?' (DbType = Int32), @p4='?' (DbType = Decimal), @p5='?' (Size = 3), @p6='?' (DbType = Int32), @p7='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Product" ("Id", "Description", "Name", "Status", "Stock", "Price_CurrencyType", "Price_DiscountPercent", "Price_Value")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-06-17 12:17:55.833 -05:00 [ERR] An exception occurred in the database while saving changes for context type 'TektonLabs.Challenge.Infraestructure.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'UNIQUE constraint failed: Product.Id'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'UNIQUE constraint failed: Product.Id'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-06-17 12:17:56.064 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-17 12:17:56.065 -05:00 [INF] Hosting environment: Development
2024-06-17 12:17:56.071 -05:00 [INF] Content root path: C:\hnavarro\Personal\Repository\TektonLabs\src\TektonLabs.Challenge.API
2024-06-17 12:17:56.129 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44332/swagger/index.html - null null
2024-06-17 12:17:56.378 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44332/_vs/browserLink - null null
2024-06-17 12:17:56.378 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44332/_framework/aspnetcore-browser-refresh.js - null null
2024-06-17 12:17:56.379 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44332/swagger/index.html - 200 null text/html;charset=utf-8 257.3119ms
2024-06-17 12:17:56.387 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44332/_framework/aspnetcore-browser-refresh.js - 200 13784 application/javascript; charset=utf-8 4.0656ms
2024-06-17 12:17:56.431 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44332/_vs/browserLink - 200 null text/javascript; charset=UTF-8 53.3706ms
2024-06-17 12:17:56.485 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44332/swagger/v1/swagger.json - null null
2024-06-17 12:17:56.580 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44332/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 94.8459ms
2024-06-17 12:59:42.037 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44332/api/products/1 - null null
2024-06-17 12:59:42.050 -05:00 [INF] Executing endpoint 'TektonLabs.Challenge.API.Controllers.Product.ProductsController.Get (TektonLabs.Challenge.API)'
2024-06-17 12:59:42.090 -05:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32, System.Threading.CancellationToken) on controller TektonLabs.Challenge.API.Controllers.Product.ProductsController (TektonLabs.Challenge.API).
2024-06-17 12:59:42.302 -05:00 [INF] Ejecutando el request: GetProductQuery
2024-06-17 12:59:42.838 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."Description", "p"."Name", "p"."Status", "p"."Stock", "p"."Price_CurrencyType", "p"."Price_DiscountPercent", "p"."Price_Value"
FROM "Product" AS "p"
WHERE "p"."Id" = @__id_0
LIMIT 1
2024-06-17 12:59:44.752 -05:00 [INF] El request GetProductQuery se ejecuto en: 447
2024-06-17 12:59:44.758 -05:00 [INF] Executing OkObjectResult, writing value of type 'TektonLabs.Challenge.Domain.Abstranctions.Result`1[[TektonLabs.Challenge.Application.Products.Get.GetProductResponse, TektonLabs.Challenge.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-17 12:59:44.771 -05:00 [INF] Executed action TektonLabs.Challenge.API.Controllers.Product.ProductsController.Get (TektonLabs.Challenge.API) in 2677.1063ms
2024-06-17 12:59:44.771 -05:00 [INF] Executed endpoint 'TektonLabs.Challenge.API.Controllers.Product.ProductsController.Get (TektonLabs.Challenge.API)'
2024-06-17 12:59:44.781 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44332/api/products/1 - 200 null application/json; charset=utf-8 2744.6794ms
2024-06-17 12:59:56.187 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44332/api/products/2 - null null
2024-06-17 12:59:56.188 -05:00 [INF] Executing endpoint 'TektonLabs.Challenge.API.Controllers.Product.ProductsController.Get (TektonLabs.Challenge.API)'
2024-06-17 12:59:56.189 -05:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32, System.Threading.CancellationToken) on controller TektonLabs.Challenge.API.Controllers.Product.ProductsController (TektonLabs.Challenge.API).
2024-06-17 12:59:56.191 -05:00 [INF] Ejecutando el request: GetProductQuery
2024-06-17 12:59:56.204 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."Description", "p"."Name", "p"."Status", "p"."Stock", "p"."Price_CurrencyType", "p"."Price_DiscountPercent", "p"."Price_Value"
FROM "Product" AS "p"
WHERE "p"."Id" = @__id_0
LIMIT 1
2024-06-17 13:00:02.262 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__code_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Code", "s"."Name"
FROM "StatusType" AS "s"
WHERE "s"."Code" = @__code_0
LIMIT 1
2024-06-17 13:00:02.266 -05:00 [INF] El request GetProductQuery se ejecuto en: 74
2024-06-17 13:00:02.268 -05:00 [INF] Executing OkObjectResult, writing value of type 'TektonLabs.Challenge.Domain.Abstranctions.Result`1[[TektonLabs.Challenge.Application.Products.Get.GetProductResponse, TektonLabs.Challenge.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-17 13:00:02.269 -05:00 [INF] Executed action TektonLabs.Challenge.API.Controllers.Product.ProductsController.Get (TektonLabs.Challenge.API) in 6079.951ms
2024-06-17 13:00:02.270 -05:00 [INF] Executed endpoint 'TektonLabs.Challenge.API.Controllers.Product.ProductsController.Get (TektonLabs.Challenge.API)'
2024-06-17 13:00:02.272 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44332/api/products/2 - 200 null application/json; charset=utf-8 6085.9383ms
2024-06-17 13:00:12.274 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44332/api/products/3 - null null
2024-06-17 13:00:12.275 -05:00 [INF] Executing endpoint 'TektonLabs.Challenge.API.Controllers.Product.ProductsController.Get (TektonLabs.Challenge.API)'
2024-06-17 13:00:12.276 -05:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32, System.Threading.CancellationToken) on controller TektonLabs.Challenge.API.Controllers.Product.ProductsController (TektonLabs.Challenge.API).
2024-06-17 13:00:12.277 -05:00 [INF] Ejecutando el request: GetProductQuery
2024-06-17 13:00:12.289 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."Description", "p"."Name", "p"."Status", "p"."Stock", "p"."Price_CurrencyType", "p"."Price_DiscountPercent", "p"."Price_Value"
FROM "Product" AS "p"
WHERE "p"."Id" = @__id_0
LIMIT 1
2024-06-17 13:00:12.289 -05:00 [INF] El request GetProductQuery se ejecuto en: 12
2024-06-17 13:00:12.290 -05:00 [INF] Executing OkObjectResult, writing value of type 'TektonLabs.Challenge.Domain.Abstranctions.Result`1[[TektonLabs.Challenge.Application.Products.Get.GetProductResponse, TektonLabs.Challenge.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-17 13:00:12.291 -05:00 [INF] Executed action TektonLabs.Challenge.API.Controllers.Product.ProductsController.Get (TektonLabs.Challenge.API) in 14.8182ms
2024-06-17 13:00:12.291 -05:00 [INF] Executed endpoint 'TektonLabs.Challenge.API.Controllers.Product.ProductsController.Get (TektonLabs.Challenge.API)'
2024-06-17 13:00:12.292 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44332/api/products/3 - 200 null application/json; charset=utf-8 19.0251ms
2024-06-17 13:00:50.653 -05:00 [INF] Request starting HTTP/2 PUT https://localhost:44332/api/products/51 - application/json 94
2024-06-17 13:00:50.656 -05:00 [INF] Executing endpoint 'TektonLabs.Challenge.API.Controllers.Product.ProductsController.Update (TektonLabs.Challenge.API)'
2024-06-17 13:00:50.667 -05:00 [INF] Route matched with {action = "Update", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Int32, TektonLabs.Challenge.API.Controllers.Product.UpdateProductRequest, System.Threading.CancellationToken) on controller TektonLabs.Challenge.API.Controllers.Product.ProductsController (TektonLabs.Challenge.API).
2024-06-17 13:00:50.769 -05:00 [INF] Ejecutando el request: UpdateProductCommand
2024-06-17 13:00:50.938 -05:00 [ERR] El comando UpdateProductCommand tuvo errores
FluentValidation.AsyncValidatorInvokedSynchronouslyException: Validator "UpdateProductCommandValidator" contains asynchronous rules but was invoked synchronously. Please call ValidateAsync rather than Validate.
   at FluentValidation.AbstractValidator`1.Validate(ValidationContext`1 context) in /_/src/FluentValidation/AbstractValidator.cs:line 207
   at FluentValidation.AbstractValidator`1.FluentValidation.IValidator.Validate(IValidationContext context) in /_/src/FluentValidation/AbstractValidator.cs:line 153
   at TektonLabs.Challenge.Application.Abstractions.Behaviors.ValidationBehavior`2.<>c__DisplayClass2_0.<Handle>b__0(IValidator`1 validators) in C:\hnavarro\Personal\Repository\TektonLabs\src\TektonLabs.Challenge.Application\Abstractions\Behaviors\ValidationBehavior.cs:line 33
   at System.Linq.Enumerable.SelectArrayIterator`2.MoveNext()
   at System.Linq.Enumerable.WhereEnumerableIterator`1.MoveNext()
   at System.Linq.Enumerable.SelectManySingleSelectorIterator`2.MoveNext()
   at System.Linq.Enumerable.SelectEnumerableIterator`2.ToList()
   at TektonLabs.Challenge.Application.Abstractions.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\hnavarro\Personal\Repository\TektonLabs\src\TektonLabs.Challenge.Application\Abstractions\Behaviors\ValidationBehavior.cs:line 32
   at LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\hnavarro\Personal\Repository\TektonLabs\src\TektonLabs.Challenge.Application\Abstractions\Behaviors\LoggingBehavior.cs:line 27
2024-06-17 13:00:51.205 -05:00 [INF] Executed action TektonLabs.Challenge.API.Controllers.Product.ProductsController.Update (TektonLabs.Challenge.API) in 537.7495ms
2024-06-17 13:00:51.207 -05:00 [INF] Executed endpoint 'TektonLabs.Challenge.API.Controllers.Product.ProductsController.Update (TektonLabs.Challenge.API)'
2024-06-17 13:00:51.246 -05:00 [ERR] Ocurrio una exception: Validator "UpdateProductCommandValidator" contains asynchronous rules but was invoked synchronously. Please call ValidateAsync rather than Validate.
FluentValidation.AsyncValidatorInvokedSynchronouslyException: Validator "UpdateProductCommandValidator" contains asynchronous rules but was invoked synchronously. Please call ValidateAsync rather than Validate.
   at FluentValidation.AbstractValidator`1.Validate(ValidationContext`1 context) in /_/src/FluentValidation/AbstractValidator.cs:line 207
   at FluentValidation.AbstractValidator`1.FluentValidation.IValidator.Validate(IValidationContext context) in /_/src/FluentValidation/AbstractValidator.cs:line 153
   at TektonLabs.Challenge.Application.Abstractions.Behaviors.ValidationBehavior`2.<>c__DisplayClass2_0.<Handle>b__0(IValidator`1 validators) in C:\hnavarro\Personal\Repository\TektonLabs\src\TektonLabs.Challenge.Application\Abstractions\Behaviors\ValidationBehavior.cs:line 33
   at System.Linq.Enumerable.SelectArrayIterator`2.MoveNext()
   at System.Linq.Enumerable.WhereEnumerableIterator`1.MoveNext()
   at System.Linq.Enumerable.SelectManySingleSelectorIterator`2.MoveNext()
   at System.Linq.Enumerable.SelectEnumerableIterator`2.ToList()
   at TektonLabs.Challenge.Application.Abstractions.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\hnavarro\Personal\Repository\TektonLabs\src\TektonLabs.Challenge.Application\Abstractions\Behaviors\ValidationBehavior.cs:line 32
   at LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\hnavarro\Personal\Repository\TektonLabs\src\TektonLabs.Challenge.Application\Abstractions\Behaviors\LoggingBehavior.cs:line 27
   at TektonLabs.Challenge.API.Controllers.Product.ProductsController.Update(Int32 id, UpdateProductRequest request, CancellationToken cancellationToken) in C:\hnavarro\Personal\Repository\TektonLabs\src\TektonLabs.Challenge.API\Controllers\Product\ProductController.cs:line 53
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at TektonLabs.Challenge.API.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\hnavarro\Personal\Repository\TektonLabs\src\TektonLabs.Challenge.API\Middleware\ExceptionHandlingMiddleware.cs:line 22
2024-06-17 13:00:51.278 -05:00 [INF] Request finished HTTP/2 PUT https://localhost:44332/api/products/51 - 500 null application/json; charset=utf-8 660.1865ms
2024-06-17 13:01:44.545 -05:00 [INF] Request starting HTTP/2 PUT https://localhost:44332/api/products/51 - application/json 94
2024-06-17 13:01:44.546 -05:00 [INF] Executing endpoint 'TektonLabs.Challenge.API.Controllers.Product.ProductsController.Update (TektonLabs.Challenge.API)'
2024-06-17 13:01:44.546 -05:00 [INF] Route matched with {action = "Update", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Int32, TektonLabs.Challenge.API.Controllers.Product.UpdateProductRequest, System.Threading.CancellationToken) on controller TektonLabs.Challenge.API.Controllers.Product.ProductsController (TektonLabs.Challenge.API).
2024-06-17 13:01:44.550 -05:00 [INF] Ejecutando el request: UpdateProductCommand
2024-06-17 13:01:44.684 -05:00 [ERR] El comando UpdateProductCommand tuvo errores
FluentValidation.AsyncValidatorInvokedSynchronouslyException: Validator "UpdateProductCommandValidator" contains asynchronous rules but was invoked synchronously. Please call ValidateAsync rather than Validate.
   at FluentValidation.AbstractValidator`1.Validate(ValidationContext`1 context) in /_/src/FluentValidation/AbstractValidator.cs:line 207
   at FluentValidation.AbstractValidator`1.FluentValidation.IValidator.Validate(IValidationContext context) in /_/src/FluentValidation/AbstractValidator.cs:line 153
   at TektonLabs.Challenge.Application.Abstractions.Behaviors.ValidationBehavior`2.<>c__DisplayClass2_0.<Handle>b__0(IValidator`1 validators) in C:\hnavarro\Personal\Repository\TektonLabs\src\TektonLabs.Challenge.Application\Abstractions\Behaviors\ValidationBehavior.cs:line 33
   at System.Linq.Enumerable.SelectArrayIterator`2.MoveNext()
   at System.Linq.Enumerable.WhereEnumerableIterator`1.MoveNext()
   at System.Linq.Enumerable.SelectManySingleSelectorIterator`2.MoveNext()
   at System.Linq.Enumerable.SelectEnumerableIterator`2.ToList()
   at TektonLabs.Challenge.Application.Abstractions.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\hnavarro\Personal\Repository\TektonLabs\src\TektonLabs.Challenge.Application\Abstractions\Behaviors\ValidationBehavior.cs:line 32
   at LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\hnavarro\Personal\Repository\TektonLabs\src\TektonLabs.Challenge.Application\Abstractions\Behaviors\LoggingBehavior.cs:line 27
2024-06-17 13:01:44.789 -05:00 [INF] Executed action TektonLabs.Challenge.API.Controllers.Product.ProductsController.Update (TektonLabs.Challenge.API) in 242.929ms
2024-06-17 13:01:44.792 -05:00 [INF] Executed endpoint 'TektonLabs.Challenge.API.Controllers.Product.ProductsController.Update (TektonLabs.Challenge.API)'
2024-06-17 13:01:44.835 -05:00 [ERR] Ocurrio una exception: Validator "UpdateProductCommandValidator" contains asynchronous rules but was invoked synchronously. Please call ValidateAsync rather than Validate.
FluentValidation.AsyncValidatorInvokedSynchronouslyException: Validator "UpdateProductCommandValidator" contains asynchronous rules but was invoked synchronously. Please call ValidateAsync rather than Validate.
   at FluentValidation.AbstractValidator`1.Validate(ValidationContext`1 context) in /_/src/FluentValidation/AbstractValidator.cs:line 207
   at FluentValidation.AbstractValidator`1.FluentValidation.IValidator.Validate(IValidationContext context) in /_/src/FluentValidation/AbstractValidator.cs:line 153
   at TektonLabs.Challenge.Application.Abstractions.Behaviors.ValidationBehavior`2.<>c__DisplayClass2_0.<Handle>b__0(IValidator`1 validators) in C:\hnavarro\Personal\Repository\TektonLabs\src\TektonLabs.Challenge.Application\Abstractions\Behaviors\ValidationBehavior.cs:line 33
   at System.Linq.Enumerable.SelectArrayIterator`2.MoveNext()
   at System.Linq.Enumerable.WhereEnumerableIterator`1.MoveNext()
   at System.Linq.Enumerable.SelectManySingleSelectorIterator`2.MoveNext()
   at System.Linq.Enumerable.SelectEnumerableIterator`2.ToList()
   at TektonLabs.Challenge.Application.Abstractions.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\hnavarro\Personal\Repository\TektonLabs\src\TektonLabs.Challenge.Application\Abstractions\Behaviors\ValidationBehavior.cs:line 32
   at LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\hnavarro\Personal\Repository\TektonLabs\src\TektonLabs.Challenge.Application\Abstractions\Behaviors\LoggingBehavior.cs:line 27
   at TektonLabs.Challenge.API.Controllers.Product.ProductsController.Update(Int32 id, UpdateProductRequest request, CancellationToken cancellationToken) in C:\hnavarro\Personal\Repository\TektonLabs\src\TektonLabs.Challenge.API\Controllers\Product\ProductController.cs:line 53
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at TektonLabs.Challenge.API.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\hnavarro\Personal\Repository\TektonLabs\src\TektonLabs.Challenge.API\Middleware\ExceptionHandlingMiddleware.cs:line 22
2024-06-17 13:01:44.840 -05:00 [INF] Request finished HTTP/2 PUT https://localhost:44332/api/products/51 - 500 null application/json; charset=utf-8 294.5801ms
2024-06-17 13:01:46.437 -05:00 [INF] Request starting HTTP/2 PUT https://localhost:44332/api/products/51 - application/json 94
2024-06-17 13:01:46.438 -05:00 [INF] Executing endpoint 'TektonLabs.Challenge.API.Controllers.Product.ProductsController.Update (TektonLabs.Challenge.API)'
2024-06-17 13:01:46.438 -05:00 [INF] Route matched with {action = "Update", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Int32, TektonLabs.Challenge.API.Controllers.Product.UpdateProductRequest, System.Threading.CancellationToken) on controller TektonLabs.Challenge.API.Controllers.Product.ProductsController (TektonLabs.Challenge.API).
2024-06-17 13:01:46.443 -05:00 [INF] Ejecutando el request: UpdateProductCommand
2024-06-17 13:01:46.554 -05:00 [ERR] El comando UpdateProductCommand tuvo errores
FluentValidation.AsyncValidatorInvokedSynchronouslyException: Validator "UpdateProductCommandValidator" contains asynchronous rules but was invoked synchronously. Please call ValidateAsync rather than Validate.
   at FluentValidation.AbstractValidator`1.Validate(ValidationContext`1 context) in /_/src/FluentValidation/AbstractValidator.cs:line 207
   at FluentValidation.AbstractValidator`1.FluentValidation.IValidator.Validate(IValidationContext context) in /_/src/FluentValidation/AbstractValidator.cs:line 153
   at TektonLabs.Challenge.Application.Abstractions.Behaviors.ValidationBehavior`2.<>c__DisplayClass2_0.<Handle>b__0(IValidator`1 validators) in C:\hnavarro\Personal\Repository\TektonLabs\src\TektonLabs.Challenge.Application\Abstractions\Behaviors\ValidationBehavior.cs:line 33
   at System.Linq.Enumerable.SelectArrayIterator`2.MoveNext()
   at System.Linq.Enumerable.WhereEnumerableIterator`1.MoveNext()
   at System.Linq.Enumerable.SelectManySingleSelectorIterator`2.MoveNext()
   at System.Linq.Enumerable.SelectEnumerableIterator`2.ToList()
   at TektonLabs.Challenge.Application.Abstractions.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\hnavarro\Personal\Repository\TektonLabs\src\TektonLabs.Challenge.Application\Abstractions\Behaviors\ValidationBehavior.cs:line 32
   at LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\hnavarro\Personal\Repository\TektonLabs\src\TektonLabs.Challenge.Application\Abstractions\Behaviors\LoggingBehavior.cs:line 27
2024-06-17 13:01:46.664 -05:00 [INF] Executed action TektonLabs.Challenge.API.Controllers.Product.ProductsController.Update (TektonLabs.Challenge.API) in 225.2085ms
2024-06-17 13:01:46.665 -05:00 [INF] Executed endpoint 'TektonLabs.Challenge.API.Controllers.Product.ProductsController.Update (TektonLabs.Challenge.API)'
2024-06-17 13:01:46.710 -05:00 [ERR] Ocurrio una exception: Validator "UpdateProductCommandValidator" contains asynchronous rules but was invoked synchronously. Please call ValidateAsync rather than Validate.
FluentValidation.AsyncValidatorInvokedSynchronouslyException: Validator "UpdateProductCommandValidator" contains asynchronous rules but was invoked synchronously. Please call ValidateAsync rather than Validate.
   at FluentValidation.AbstractValidator`1.Validate(ValidationContext`1 context) in /_/src/FluentValidation/AbstractValidator.cs:line 207
   at FluentValidation.AbstractValidator`1.FluentValidation.IValidator.Validate(IValidationContext context) in /_/src/FluentValidation/AbstractValidator.cs:line 153
   at TektonLabs.Challenge.Application.Abstractions.Behaviors.ValidationBehavior`2.<>c__DisplayClass2_0.<Handle>b__0(IValidator`1 validators) in C:\hnavarro\Personal\Repository\TektonLabs\src\TektonLabs.Challenge.Application\Abstractions\Behaviors\ValidationBehavior.cs:line 33
   at System.Linq.Enumerable.SelectArrayIterator`2.MoveNext()
   at System.Linq.Enumerable.WhereEnumerableIterator`1.MoveNext()
   at System.Linq.Enumerable.SelectManySingleSelectorIterator`2.MoveNext()
   at System.Linq.Enumerable.SelectEnumerableIterator`2.ToList()
   at TektonLabs.Challenge.Application.Abstractions.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\hnavarro\Personal\Repository\TektonLabs\src\TektonLabs.Challenge.Application\Abstractions\Behaviors\ValidationBehavior.cs:line 32
   at LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\hnavarro\Personal\Repository\TektonLabs\src\TektonLabs.Challenge.Application\Abstractions\Behaviors\LoggingBehavior.cs:line 27
   at TektonLabs.Challenge.API.Controllers.Product.ProductsController.Update(Int32 id, UpdateProductRequest request, CancellationToken cancellationToken) in C:\hnavarro\Personal\Repository\TektonLabs\src\TektonLabs.Challenge.API\Controllers\Product\ProductController.cs:line 53
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at TektonLabs.Challenge.API.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\hnavarro\Personal\Repository\TektonLabs\src\TektonLabs.Challenge.API\Middleware\ExceptionHandlingMiddleware.cs:line 22
2024-06-17 13:01:46.716 -05:00 [INF] Request finished HTTP/2 PUT https://localhost:44332/api/products/51 - 500 null application/json; charset=utf-8 279.3969ms
2024-06-17 13:02:10.024 -05:00 [INF] Request starting HTTP/2 PUT https://localhost:44332/api/products/51 - application/json 94
2024-06-17 13:02:10.024 -05:00 [INF] Executing endpoint 'TektonLabs.Challenge.API.Controllers.Product.ProductsController.Update (TektonLabs.Challenge.API)'
2024-06-17 13:02:10.025 -05:00 [INF] Route matched with {action = "Update", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Int32, TektonLabs.Challenge.API.Controllers.Product.UpdateProductRequest, System.Threading.CancellationToken) on controller TektonLabs.Challenge.API.Controllers.Product.ProductsController (TektonLabs.Challenge.API).
2024-06-17 13:02:42.764 -05:00 [INF] Ejecutando el request: UpdateProductCommand
2024-06-17 13:02:42.815 -05:00 [ERR] El comando UpdateProductCommand tuvo errores
FluentValidation.AsyncValidatorInvokedSynchronouslyException: Validator "UpdateProductCommandValidator" contains asynchronous rules but was invoked synchronously. Please call ValidateAsync rather than Validate.
   at FluentValidation.AbstractValidator`1.Validate(ValidationContext`1 context) in /_/src/FluentValidation/AbstractValidator.cs:line 207
   at FluentValidation.AbstractValidator`1.FluentValidation.IValidator.Validate(IValidationContext context) in /_/src/FluentValidation/AbstractValidator.cs:line 153
   at TektonLabs.Challenge.Application.Abstractions.Behaviors.ValidationBehavior`2.<>c__DisplayClass2_0.<Handle>b__0(IValidator`1 validators) in C:\hnavarro\Personal\Repository\TektonLabs\src\TektonLabs.Challenge.Application\Abstractions\Behaviors\ValidationBehavior.cs:line 33
   at System.Linq.Enumerable.SelectArrayIterator`2.MoveNext()
   at System.Linq.Enumerable.WhereEnumerableIterator`1.MoveNext()
   at System.Linq.Enumerable.SelectManySingleSelectorIterator`2.MoveNext()
   at System.Linq.Enumerable.SelectEnumerableIterator`2.ToList()
   at TektonLabs.Challenge.Application.Abstractions.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\hnavarro\Personal\Repository\TektonLabs\src\TektonLabs.Challenge.Application\Abstractions\Behaviors\ValidationBehavior.cs:line 32
   at LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\hnavarro\Personal\Repository\TektonLabs\src\TektonLabs.Challenge.Application\Abstractions\Behaviors\LoggingBehavior.cs:line 27
2024-06-17 13:02:42.860 -05:00 [INF] Executed action TektonLabs.Challenge.API.Controllers.Product.ProductsController.Update (TektonLabs.Challenge.API) in 32834.9311ms
2024-06-17 13:02:42.861 -05:00 [INF] Executed endpoint 'TektonLabs.Challenge.API.Controllers.Product.ProductsController.Update (TektonLabs.Challenge.API)'
2024-06-17 13:02:42.878 -05:00 [ERR] Ocurrio una exception: Validator "UpdateProductCommandValidator" contains asynchronous rules but was invoked synchronously. Please call ValidateAsync rather than Validate.
FluentValidation.AsyncValidatorInvokedSynchronouslyException: Validator "UpdateProductCommandValidator" contains asynchronous rules but was invoked synchronously. Please call ValidateAsync rather than Validate.
   at FluentValidation.AbstractValidator`1.Validate(ValidationContext`1 context) in /_/src/FluentValidation/AbstractValidator.cs:line 207
   at FluentValidation.AbstractValidator`1.FluentValidation.IValidator.Validate(IValidationContext context) in /_/src/FluentValidation/AbstractValidator.cs:line 153
   at TektonLabs.Challenge.Application.Abstractions.Behaviors.ValidationBehavior`2.<>c__DisplayClass2_0.<Handle>b__0(IValidator`1 validators) in C:\hnavarro\Personal\Repository\TektonLabs\src\TektonLabs.Challenge.Application\Abstractions\Behaviors\ValidationBehavior.cs:line 33
   at System.Linq.Enumerable.SelectArrayIterator`2.MoveNext()
   at System.Linq.Enumerable.WhereEnumerableIterator`1.MoveNext()
   at System.Linq.Enumerable.SelectManySingleSelectorIterator`2.MoveNext()
   at System.Linq.Enumerable.SelectEnumerableIterator`2.ToList()
   at TektonLabs.Challenge.Application.Abstractions.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\hnavarro\Personal\Repository\TektonLabs\src\TektonLabs.Challenge.Application\Abstractions\Behaviors\ValidationBehavior.cs:line 32
   at LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\hnavarro\Personal\Repository\TektonLabs\src\TektonLabs.Challenge.Application\Abstractions\Behaviors\LoggingBehavior.cs:line 27
   at TektonLabs.Challenge.API.Controllers.Product.ProductsController.Update(Int32 id, UpdateProductRequest request, CancellationToken cancellationToken) in C:\hnavarro\Personal\Repository\TektonLabs\src\TektonLabs.Challenge.API\Controllers\Product\ProductController.cs:line 53
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at TektonLabs.Challenge.API.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\hnavarro\Personal\Repository\TektonLabs\src\TektonLabs.Challenge.API\Middleware\ExceptionHandlingMiddleware.cs:line 22
2024-06-17 13:02:42.880 -05:00 [INF] Request finished HTTP/2 PUT https://localhost:44332/api/products/51 - 500 null application/json; charset=utf-8 32857.1605ms
2024-06-17 13:04:20.876 -05:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2024-06-17 13:04:21.017 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2024-06-17 13:04:21.045 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-06-17 13:04:21.081 -05:00 [INF] No migrations were applied. The database is already up to date.
2024-06-17 13:04:21.777 -05:00 [ERR] Failed executing DbCommand (19ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 113), @p2='?' (Size = 21), @p3='?' (DbType = Int32), @p4='?' (DbType = Decimal), @p5='?' (Size = 3), @p6='?' (DbType = Int32), @p7='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Product" ("Id", "Description", "Name", "Status", "Stock", "Price_CurrencyType", "Price_DiscountPercent", "Price_Value")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-06-17 13:04:21.848 -05:00 [ERR] An exception occurred in the database while saving changes for context type 'TektonLabs.Challenge.Infraestructure.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'UNIQUE constraint failed: Product.Id'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'UNIQUE constraint failed: Product.Id'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-06-17 13:04:22.433 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-17 13:04:22.451 -05:00 [INF] Hosting environment: Development
2024-06-17 13:04:22.451 -05:00 [INF] Content root path: C:\hnavarro\Personal\Repository\TektonLabs\src\TektonLabs.Challenge.API
2024-06-17 13:04:22.564 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44332/swagger/index.html - null null
2024-06-17 13:04:23.206 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44332/swagger/index.html - 200 null text/html;charset=utf-8 653.1148ms
2024-06-17 13:04:23.210 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44332/_framework/aspnetcore-browser-refresh.js - null null
2024-06-17 13:04:23.218 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44332/_framework/aspnetcore-browser-refresh.js - 200 13784 application/javascript; charset=utf-8 7.033ms
2024-06-17 13:04:23.220 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44332/_vs/browserLink - null null
2024-06-17 13:04:23.310 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44332/_vs/browserLink - 200 null text/javascript; charset=UTF-8 90.0022ms
2024-06-17 13:04:23.451 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44332/swagger/v1/swagger.json - null null
2024-06-17 13:04:23.689 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44332/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 236.8236ms
2024-06-17 13:06:10.866 -05:00 [INF] Request starting HTTP/2 PUT https://localhost:44332/api/products/52 - application/json 94
2024-06-17 13:06:10.886 -05:00 [INF] Executing endpoint 'TektonLabs.Challenge.API.Controllers.Product.ProductsController.Update (TektonLabs.Challenge.API)'
2024-06-17 13:06:10.941 -05:00 [INF] Route matched with {action = "Update", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Int32, TektonLabs.Challenge.API.Controllers.Product.UpdateProductRequest, System.Threading.CancellationToken) on controller TektonLabs.Challenge.API.Controllers.Product.ProductsController (TektonLabs.Challenge.API).
2024-06-17 13:06:14.693 -05:00 [INF] Ejecutando el request: UpdateProductCommand
2024-06-17 13:07:26.307 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."Description", "p"."Name", "p"."Status", "p"."Stock", "p"."Price_CurrencyType", "p"."Price_DiscountPercent", "p"."Price_Value"
FROM "Product" AS "p"
WHERE "p"."Id" = @__id_0
LIMIT 1
2024-06-17 13:07:26.331 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (Size = 6), @p1='?' (Size = 6), @p2='?' (DbType = Int32), @p3='?' (DbType = Decimal), @p4='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Product" SET "Description" = @p0, "Name" = @p1, "Status" = @p2, "Stock" = @p3, "Price_Value" = @p4
WHERE "Id" = @p5
RETURNING 1;
2024-06-17 13:07:26.349 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."Description", "p"."Name", "p"."Status", "p"."Stock", "p"."Price_CurrencyType", "p"."Price_DiscountPercent", "p"."Price_Value"
FROM "Product" AS "p"
WHERE "p"."Id" = @__id_0
LIMIT 1
2024-06-17 13:07:26.350 -05:00 [INF] El request UpdateProductCommand se ejecuto en: 657
2024-06-17 13:07:26.354 -05:00 [INF] Executing OkObjectResult, writing value of type 'TektonLabs.Challenge.Domain.Abstranctions.Result'.
2024-06-17 13:07:26.359 -05:00 [INF] Executed action TektonLabs.Challenge.API.Controllers.Product.ProductsController.Update (TektonLabs.Challenge.API) in 75414.8266ms
2024-06-17 13:07:26.359 -05:00 [INF] Executed endpoint 'TektonLabs.Challenge.API.Controllers.Product.ProductsController.Update (TektonLabs.Challenge.API)'
2024-06-17 13:07:26.362 -05:00 [INF] Request finished HTTP/2 PUT https://localhost:44332/api/products/52 - 200 null application/json; charset=utf-8 75496.7778ms
2024-06-17 13:07:38.323 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44332/api/products/52 - null null
2024-06-17 13:07:38.325 -05:00 [INF] Executing endpoint 'TektonLabs.Challenge.API.Controllers.Product.ProductsController.Get (TektonLabs.Challenge.API)'
2024-06-17 13:07:38.337 -05:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32, System.Threading.CancellationToken) on controller TektonLabs.Challenge.API.Controllers.Product.ProductsController (TektonLabs.Challenge.API).
2024-06-17 13:07:38.347 -05:00 [INF] Ejecutando el request: GetProductQuery
2024-06-17 13:07:38.357 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."Description", "p"."Name", "p"."Status", "p"."Stock", "p"."Price_CurrencyType", "p"."Price_DiscountPercent", "p"."Price_Value"
FROM "Product" AS "p"
WHERE "p"."Id" = @__id_0
LIMIT 1
2024-06-17 13:07:38.393 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__code_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Code", "s"."Name"
FROM "StatusType" AS "s"
WHERE "s"."Code" = @__code_0
LIMIT 1
2024-06-17 13:07:38.401 -05:00 [INF] El request GetProductQuery se ejecuto en: 53
2024-06-17 13:07:38.406 -05:00 [INF] Executing OkObjectResult, writing value of type 'TektonLabs.Challenge.Domain.Abstranctions.Result`1[[TektonLabs.Challenge.Application.Products.Get.GetProductResponse, TektonLabs.Challenge.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-17 13:07:38.429 -05:00 [INF] Executed action TektonLabs.Challenge.API.Controllers.Product.ProductsController.Get (TektonLabs.Challenge.API) in 90.7733ms
2024-06-17 13:07:38.431 -05:00 [INF] Executed endpoint 'TektonLabs.Challenge.API.Controllers.Product.ProductsController.Get (TektonLabs.Challenge.API)'
2024-06-17 13:07:38.434 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44332/api/products/52 - 200 null application/json; charset=utf-8 110.7384ms
2024-06-17 13:07:43.714 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44332/api/products/51 - null null
2024-06-17 13:07:43.716 -05:00 [INF] Executing endpoint 'TektonLabs.Challenge.API.Controllers.Product.ProductsController.Get (TektonLabs.Challenge.API)'
2024-06-17 13:07:43.716 -05:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32, System.Threading.CancellationToken) on controller TektonLabs.Challenge.API.Controllers.Product.ProductsController (TektonLabs.Challenge.API).
2024-06-17 13:07:43.718 -05:00 [INF] Ejecutando el request: GetProductQuery
2024-06-17 13:07:43.723 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."Description", "p"."Name", "p"."Status", "p"."Stock", "p"."Price_CurrencyType", "p"."Price_DiscountPercent", "p"."Price_Value"
FROM "Product" AS "p"
WHERE "p"."Id" = @__id_0
LIMIT 1
2024-06-17 13:07:43.734 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__code_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Code", "s"."Name"
FROM "StatusType" AS "s"
WHERE "s"."Code" = @__code_0
LIMIT 1
2024-06-17 13:07:43.735 -05:00 [INF] El request GetProductQuery se ejecuto en: 17
2024-06-17 13:07:43.737 -05:00 [INF] Executing OkObjectResult, writing value of type 'TektonLabs.Challenge.Domain.Abstranctions.Result`1[[TektonLabs.Challenge.Application.Products.Get.GetProductResponse, TektonLabs.Challenge.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-17 13:07:43.738 -05:00 [INF] Executed action TektonLabs.Challenge.API.Controllers.Product.ProductsController.Get (TektonLabs.Challenge.API) in 21.5404ms
2024-06-17 13:07:43.739 -05:00 [INF] Executed endpoint 'TektonLabs.Challenge.API.Controllers.Product.ProductsController.Get (TektonLabs.Challenge.API)'
2024-06-17 13:07:43.740 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44332/api/products/51 - 200 null application/json; charset=utf-8 26.5214ms
2024-06-17 13:19:11.464 -05:00 [INF] Executed DbCommand (159ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2024-06-17 13:19:11.593 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2024-06-17 13:19:11.623 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-06-17 13:19:11.661 -05:00 [INF] No migrations were applied. The database is already up to date.
2024-06-17 13:19:12.327 -05:00 [ERR] Failed executing DbCommand (15ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 132), @p2='?' (Size = 19), @p3='?' (DbType = Int32), @p4='?' (DbType = Decimal), @p5='?' (Size = 3), @p6='?' (DbType = Int32), @p7='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Product" ("Id", "Description", "Name", "Status", "Stock", "Price_CurrencyType", "Price_DiscountPercent", "Price_Value")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-06-17 13:19:12.383 -05:00 [ERR] An exception occurred in the database while saving changes for context type 'TektonLabs.Challenge.Infraestructure.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'UNIQUE constraint failed: Product.Id'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'UNIQUE constraint failed: Product.Id'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-06-17 13:19:12.930 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-17 13:19:12.932 -05:00 [INF] Hosting environment: Development
2024-06-17 13:19:12.932 -05:00 [INF] Content root path: C:\hnavarro\Personal\Repository\TektonLabs\src\TektonLabs.Challenge.API
2024-06-17 13:19:13.083 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44332/swagger/index.html - null null
2024-06-17 13:19:13.682 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44332/_vs/browserLink - null null
2024-06-17 13:19:13.682 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44332/_framework/aspnetcore-browser-refresh.js - null null
2024-06-17 13:19:13.684 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44332/swagger/index.html - 200 null text/html;charset=utf-8 614.5187ms
2024-06-17 13:19:13.688 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44332/_framework/aspnetcore-browser-refresh.js - 200 13784 application/javascript; charset=utf-8 5.8853ms
2024-06-17 13:19:13.773 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44332/_vs/browserLink - 200 null text/javascript; charset=UTF-8 91.4341ms
2024-06-17 13:19:13.807 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44332/swagger/v1/swagger.json - null null
2024-06-17 13:19:13.998 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44332/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 191.0963ms
2024-06-17 13:19:33.752 -05:00 [INF] Request starting HTTP/2 POST https://localhost:44332/api/products - application/json 109
2024-06-17 13:19:33.771 -05:00 [INF] Executing endpoint 'TektonLabs.Challenge.API.Controllers.Product.ProductsController.Create (TektonLabs.Challenge.API)'
2024-06-17 13:19:33.844 -05:00 [INF] Route matched with {action = "Create", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(TektonLabs.Challenge.Application.Products.CreateProduct.CreateProductCommand, System.Threading.CancellationToken) on controller TektonLabs.Challenge.API.Controllers.Product.ProductsController (TektonLabs.Challenge.API).
2024-06-17 13:19:33.974 -05:00 [INF] Ejecutando el request: CreateProductCommand
2024-06-17 13:19:34.200 -05:00 [ERR] El comando CreateProductCommand tuvo errores
TektonLabs.Challenge.Application.Exceptions.ValidationException: Exception of type 'TektonLabs.Challenge.Application.Exceptions.ValidationException' was thrown.
   at TektonLabs.Challenge.Application.Abstractions.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\hnavarro\Personal\Repository\TektonLabs\src\TektonLabs.Challenge.Application\Abstractions\Behaviors\ValidationBehavior.cs:line 43
   at LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\hnavarro\Personal\Repository\TektonLabs\src\TektonLabs.Challenge.Application\Abstractions\Behaviors\LoggingBehavior.cs:line 27
2024-06-17 13:19:34.311 -05:00 [INF] Executed action TektonLabs.Challenge.API.Controllers.Product.ProductsController.Create (TektonLabs.Challenge.API) in 457.6567ms
2024-06-17 13:19:34.315 -05:00 [INF] Executed endpoint 'TektonLabs.Challenge.API.Controllers.Product.ProductsController.Create (TektonLabs.Challenge.API)'
2024-06-17 13:19:34.350 -05:00 [ERR] Ocurrio una exception: Exception of type 'TektonLabs.Challenge.Application.Exceptions.ValidationException' was thrown.
TektonLabs.Challenge.Application.Exceptions.ValidationException: Exception of type 'TektonLabs.Challenge.Application.Exceptions.ValidationException' was thrown.
   at TektonLabs.Challenge.Application.Abstractions.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\hnavarro\Personal\Repository\TektonLabs\src\TektonLabs.Challenge.Application\Abstractions\Behaviors\ValidationBehavior.cs:line 43
   at LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\hnavarro\Personal\Repository\TektonLabs\src\TektonLabs.Challenge.Application\Abstractions\Behaviors\LoggingBehavior.cs:line 27
   at TektonLabs.Challenge.API.Controllers.Product.ProductsController.Create(CreateProductCommand request, CancellationToken cancellationToken) in C:\hnavarro\Personal\Repository\TektonLabs\src\TektonLabs.Challenge.API\Controllers\Product\ProductController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at TektonLabs.Challenge.API.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\hnavarro\Personal\Repository\TektonLabs\src\TektonLabs.Challenge.API\Middleware\ExceptionHandlingMiddleware.cs:line 22
2024-06-17 13:19:34.380 -05:00 [INF] Request finished HTTP/2 POST https://localhost:44332/api/products - 500 null application/json; charset=utf-8 627.679ms
2024-06-17 13:20:10.973 -05:00 [INF] Request starting HTTP/2 POST https://localhost:44332/api/products - application/json 109
2024-06-17 13:20:10.974 -05:00 [INF] Executing endpoint 'TektonLabs.Challenge.API.Controllers.Product.ProductsController.Create (TektonLabs.Challenge.API)'
2024-06-17 13:20:10.975 -05:00 [INF] Route matched with {action = "Create", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(TektonLabs.Challenge.Application.Products.CreateProduct.CreateProductCommand, System.Threading.CancellationToken) on controller TektonLabs.Challenge.API.Controllers.Product.ProductsController (TektonLabs.Challenge.API).
2024-06-17 13:20:32.256 -05:00 [INF] Ejecutando el request: CreateProductCommand
2024-06-17 14:31:11.995 -05:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2024-06-17 14:31:12.148 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2024-06-17 14:31:12.182 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-06-17 14:31:12.221 -05:00 [INF] No migrations were applied. The database is already up to date.
2024-06-17 14:31:12.909 -05:00 [ERR] Failed executing DbCommand (18ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 136), @p2='?' (Size = 23), @p3='?' (DbType = Int32), @p4='?' (DbType = Decimal), @p5='?' (Size = 3), @p6='?' (DbType = Int32), @p7='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Product" ("Id", "Description", "Name", "Status", "Stock", "Price_CurrencyType", "Price_DiscountPercent", "Price_Value")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-06-17 14:31:12.974 -05:00 [ERR] An exception occurred in the database while saving changes for context type 'TektonLabs.Challenge.Infraestructure.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'UNIQUE constraint failed: Product.Id'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'UNIQUE constraint failed: Product.Id'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-06-17 14:31:13.619 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-17 14:31:13.620 -05:00 [INF] Hosting environment: Development
2024-06-17 14:31:13.620 -05:00 [INF] Content root path: C:\hnavarro\Personal\Repository\TektonLabs\src\TektonLabs.Challenge.API
2024-06-17 14:31:13.791 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44332/swagger/index.html - null null
2024-06-17 14:31:14.489 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44332/swagger/index.html - 200 null text/html;charset=utf-8 713.9477ms
2024-06-17 14:31:14.492 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44332/_framework/aspnetcore-browser-refresh.js - null null
2024-06-17 14:31:14.506 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44332/_framework/aspnetcore-browser-refresh.js - 200 13784 application/javascript; charset=utf-8 7.0176ms
2024-06-17 14:31:14.508 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44332/_vs/browserLink - null null
2024-06-17 14:31:14.618 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44332/_vs/browserLink - 200 null text/javascript; charset=UTF-8 109.5939ms
2024-06-17 14:31:14.767 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44332/swagger/v1/swagger.json - null null
2024-06-17 14:31:15.016 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44332/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 249.4981ms
2024-06-17 14:32:55.097 -05:00 [INF] Request starting HTTP/2 POST https://localhost:44332/api/products - application/json 99
2024-06-17 14:32:55.119 -05:00 [INF] Executing endpoint 'TektonLabs.Challenge.API.Controllers.Product.ProductsController.Create (TektonLabs.Challenge.API)'
2024-06-17 14:32:55.169 -05:00 [INF] Route matched with {action = "Create", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(TektonLabs.Challenge.Application.Products.CreateProduct.CreateProductCommand, System.Threading.CancellationToken) on controller TektonLabs.Challenge.API.Controllers.Product.ProductsController (TektonLabs.Challenge.API).
2024-06-17 14:32:55.289 -05:00 [INF] Ejecutando el request: CreateProductCommand
2024-06-17 14:34:48.288 -05:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2024-06-17 14:34:48.407 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2024-06-17 14:34:48.428 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-06-17 14:34:48.456 -05:00 [INF] No migrations were applied. The database is already up to date.
2024-06-17 14:34:49.072 -05:00 [ERR] Failed executing DbCommand (13ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 106), @p2='?' (Size = 20), @p3='?' (DbType = Int32), @p4='?' (DbType = Decimal), @p5='?' (Size = 3), @p6='?' (DbType = Int32), @p7='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Product" ("Id", "Description", "Name", "Status", "Stock", "Price_CurrencyType", "Price_DiscountPercent", "Price_Value")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-06-17 14:34:49.129 -05:00 [ERR] An exception occurred in the database while saving changes for context type 'TektonLabs.Challenge.Infraestructure.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'UNIQUE constraint failed: Product.Id'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'UNIQUE constraint failed: Product.Id'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-06-17 14:34:49.605 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-17 14:34:49.607 -05:00 [INF] Hosting environment: Development
2024-06-17 14:34:49.607 -05:00 [INF] Content root path: C:\hnavarro\Personal\Repository\TektonLabs\src\TektonLabs.Challenge.API
2024-06-17 14:34:49.724 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44332/swagger/index.html - null null
2024-06-17 14:34:50.271 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44332/_framework/aspnetcore-browser-refresh.js - null null
2024-06-17 14:34:50.273 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44332/swagger/index.html - 200 null text/html;charset=utf-8 558.947ms
2024-06-17 14:34:50.275 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44332/_vs/browserLink - null null
2024-06-17 14:34:50.287 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44332/_framework/aspnetcore-browser-refresh.js - 200 13784 application/javascript; charset=utf-8 10.2994ms
2024-06-17 14:34:50.362 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44332/_vs/browserLink - 200 null text/javascript; charset=UTF-8 86.4615ms
2024-06-17 14:34:50.390 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44332/swagger/v1/swagger.json - null null
2024-06-17 14:34:50.582 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44332/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 191.8552ms
2024-06-17 14:35:10.180 -05:00 [INF] Request starting HTTP/2 POST https://localhost:44332/api/products - application/json 111
2024-06-17 14:35:10.197 -05:00 [INF] Executing endpoint 'TektonLabs.Challenge.API.Controllers.Product.ProductsController.Create (TektonLabs.Challenge.API)'
2024-06-17 14:35:10.247 -05:00 [INF] Route matched with {action = "Create", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(TektonLabs.Challenge.Application.Products.CreateProduct.CreateProductCommand, System.Threading.CancellationToken) on controller TektonLabs.Challenge.API.Controllers.Product.ProductsController (TektonLabs.Challenge.API).
2024-06-17 14:35:10.377 -05:00 [INF] Ejecutando el request: CreateProductCommand
2024-06-17 14:38:35.085 -05:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2024-06-17 14:38:35.203 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2024-06-17 14:38:35.227 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-06-17 14:38:35.266 -05:00 [INF] No migrations were applied. The database is already up to date.
2024-06-17 14:38:35.905 -05:00 [ERR] Failed executing DbCommand (16ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 145), @p2='?' (Size = 19), @p3='?' (DbType = Int32), @p4='?' (DbType = Decimal), @p5='?' (Size = 3), @p6='?' (DbType = Int32), @p7='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Product" ("Id", "Description", "Name", "Status", "Stock", "Price_CurrencyType", "Price_DiscountPercent", "Price_Value")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-06-17 14:38:35.964 -05:00 [ERR] An exception occurred in the database while saving changes for context type 'TektonLabs.Challenge.Infraestructure.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'UNIQUE constraint failed: Product.Id'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'UNIQUE constraint failed: Product.Id'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-06-17 14:38:36.462 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-17 14:38:36.476 -05:00 [INF] Hosting environment: Development
2024-06-17 14:38:36.476 -05:00 [INF] Content root path: C:\hnavarro\Personal\Repository\TektonLabs\src\TektonLabs.Challenge.API
2024-06-17 14:38:36.584 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44332/swagger/index.html - null null
2024-06-17 14:38:37.100 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44332/_framework/aspnetcore-browser-refresh.js - null null
2024-06-17 14:38:37.100 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44332/_vs/browserLink - null null
2024-06-17 14:38:37.102 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44332/swagger/index.html - 200 null text/html;charset=utf-8 528.7337ms
2024-06-17 14:38:37.116 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44332/_framework/aspnetcore-browser-refresh.js - 200 13784 application/javascript; charset=utf-8 7.4111ms
2024-06-17 14:38:37.203 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44332/_vs/browserLink - 200 null text/javascript; charset=UTF-8 103.2281ms
2024-06-17 14:38:37.239 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44332/swagger/v1/swagger.json - null null
2024-06-17 14:38:37.439 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44332/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 199.9358ms
2024-06-17 14:39:15.870 -05:00 [INF] Request starting HTTP/2 POST https://localhost:44332/api/products - application/json 110
2024-06-17 14:39:15.890 -05:00 [INF] Executing endpoint 'TektonLabs.Challenge.API.Controllers.Product.ProductsController.Create (TektonLabs.Challenge.API)'
2024-06-17 14:39:15.941 -05:00 [INF] Route matched with {action = "Create", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(TektonLabs.Challenge.Application.Products.CreateProduct.CreateProductCommand, System.Threading.CancellationToken) on controller TektonLabs.Challenge.API.Controllers.Product.ProductsController (TektonLabs.Challenge.API).
2024-06-17 14:39:20.079 -05:00 [INF] Executed action TektonLabs.Challenge.API.Controllers.Product.ProductsController.Create (TektonLabs.Challenge.API) in 4131.9948ms
2024-06-17 14:39:20.081 -05:00 [INF] Executed endpoint 'TektonLabs.Challenge.API.Controllers.Product.ProductsController.Create (TektonLabs.Challenge.API)'
2024-06-17 14:39:34.519 -05:00 [ERR] Ocurrio una exception: Exception of type 'TektonLabs.Challenge.Application.Exceptions.ValidationException' was thrown.
TektonLabs.Challenge.Application.Exceptions.ValidationException: Exception of type 'TektonLabs.Challenge.Application.Exceptions.ValidationException' was thrown.
   at TektonLabs.Challenge.Application.Abstractions.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\hnavarro\Personal\Repository\TektonLabs\src\TektonLabs.Challenge.Application\Abstractions\Behaviors\ValidationBehavior.cs:line 46
   at TektonLabs.Challenge.API.Controllers.Product.ProductsController.Create(CreateProductCommand request, CancellationToken cancellationToken) in C:\hnavarro\Personal\Repository\TektonLabs\src\TektonLabs.Challenge.API\Controllers\Product\ProductController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at TektonLabs.Challenge.API.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\hnavarro\Personal\Repository\TektonLabs\src\TektonLabs.Challenge.API\Middleware\ExceptionHandlingMiddleware.cs:line 22
2024-06-17 14:39:34.548 -05:00 [INF] Request finished HTTP/2 POST https://localhost:44332/api/products - 500 null application/json; charset=utf-8 18678.4477ms
2024-06-17 14:40:22.223 -05:00 [INF] Request starting HTTP/2 POST https://localhost:44332/api/products - application/json 110
2024-06-17 14:40:22.225 -05:00 [INF] Executing endpoint 'TektonLabs.Challenge.API.Controllers.Product.ProductsController.Create (TektonLabs.Challenge.API)'
2024-06-17 14:40:22.226 -05:00 [INF] Route matched with {action = "Create", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(TektonLabs.Challenge.Application.Products.CreateProduct.CreateProductCommand, System.Threading.CancellationToken) on controller TektonLabs.Challenge.API.Controllers.Product.ProductsController (TektonLabs.Challenge.API).
2024-06-17 14:40:26.479 -05:00 [INF] Executed action TektonLabs.Challenge.API.Controllers.Product.ProductsController.Create (TektonLabs.Challenge.API) in 4252.7951ms
2024-06-17 14:40:26.486 -05:00 [INF] Executed endpoint 'TektonLabs.Challenge.API.Controllers.Product.ProductsController.Create (TektonLabs.Challenge.API)'
2024-06-17 14:40:31.546 -05:00 [ERR] Ocurrio una exception: Exception of type 'TektonLabs.Challenge.Application.Exceptions.ValidationException' was thrown.
TektonLabs.Challenge.Application.Exceptions.ValidationException: Exception of type 'TektonLabs.Challenge.Application.Exceptions.ValidationException' was thrown.
   at TektonLabs.Challenge.Application.Abstractions.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\hnavarro\Personal\Repository\TektonLabs\src\TektonLabs.Challenge.Application\Abstractions\Behaviors\ValidationBehavior.cs:line 46
   at TektonLabs.Challenge.API.Controllers.Product.ProductsController.Create(CreateProductCommand request, CancellationToken cancellationToken) in C:\hnavarro\Personal\Repository\TektonLabs\src\TektonLabs.Challenge.API\Controllers\Product\ProductController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at TektonLabs.Challenge.API.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\hnavarro\Personal\Repository\TektonLabs\src\TektonLabs.Challenge.API\Middleware\ExceptionHandlingMiddleware.cs:line 22
2024-06-17 14:43:35.709 -05:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2024-06-17 14:43:35.852 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2024-06-17 14:43:35.879 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-06-17 14:43:35.914 -05:00 [INF] No migrations were applied. The database is already up to date.
2024-06-17 14:43:36.508 -05:00 [ERR] Failed executing DbCommand (12ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 122), @p2='?' (Size = 18), @p3='?' (DbType = Int32), @p4='?' (DbType = Decimal), @p5='?' (Size = 3), @p6='?' (DbType = Int32), @p7='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Product" ("Id", "Description", "Name", "Status", "Stock", "Price_CurrencyType", "Price_DiscountPercent", "Price_Value")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-06-17 14:43:36.566 -05:00 [ERR] An exception occurred in the database while saving changes for context type 'TektonLabs.Challenge.Infraestructure.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'UNIQUE constraint failed: Product.Id'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'UNIQUE constraint failed: Product.Id'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-06-17 14:43:37.049 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-17 14:43:37.063 -05:00 [INF] Hosting environment: Development
2024-06-17 14:43:37.063 -05:00 [INF] Content root path: C:\hnavarro\Personal\Repository\TektonLabs\src\TektonLabs.Challenge.API
2024-06-17 14:43:37.182 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44332/swagger/index.html - null null
2024-06-17 14:43:37.682 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44332/_framework/aspnetcore-browser-refresh.js - null null
2024-06-17 14:43:37.682 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44332/_vs/browserLink - null null
2024-06-17 14:43:37.684 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44332/swagger/index.html - 200 null text/html;charset=utf-8 514.3236ms
2024-06-17 14:43:37.690 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44332/_framework/aspnetcore-browser-refresh.js - 200 13784 application/javascript; charset=utf-8 7.0338ms
2024-06-17 14:43:37.758 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44332/_vs/browserLink - 200 null text/javascript; charset=UTF-8 76.0487ms
2024-06-17 14:43:37.813 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44332/swagger/v1/swagger.json - null null
2024-06-17 14:43:37.988 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44332/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 175.4817ms
2024-06-17 14:44:23.088 -05:00 [INF] Request starting HTTP/2 POST https://localhost:44332/api/products - application/json 110
2024-06-17 14:44:23.107 -05:00 [INF] Executing endpoint 'TektonLabs.Challenge.API.Controllers.Product.ProductsController.Create (TektonLabs.Challenge.API)'
2024-06-17 14:44:23.146 -05:00 [INF] Route matched with {action = "Create", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(TektonLabs.Challenge.Application.Products.CreateProduct.CreateProductCommand, System.Threading.CancellationToken) on controller TektonLabs.Challenge.API.Controllers.Product.ProductsController (TektonLabs.Challenge.API).
2024-06-17 14:44:23.247 -05:00 [INF] Ejecutando el request: CreateProductCommand
2024-06-17 14:51:47.821 -05:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2024-06-17 14:51:47.939 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2024-06-17 14:51:47.964 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-06-17 14:51:47.991 -05:00 [INF] No migrations were applied. The database is already up to date.
2024-06-17 14:51:48.595 -05:00 [ERR] Failed executing DbCommand (16ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 122), @p2='?' (Size = 20), @p3='?' (DbType = Int32), @p4='?' (DbType = Decimal), @p5='?' (Size = 3), @p6='?' (DbType = Int32), @p7='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Product" ("Id", "Description", "Name", "Status", "Stock", "Price_CurrencyType", "Price_DiscountPercent", "Price_Value")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-06-17 14:51:48.657 -05:00 [ERR] An exception occurred in the database while saving changes for context type 'TektonLabs.Challenge.Infraestructure.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'UNIQUE constraint failed: Product.Id'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'UNIQUE constraint failed: Product.Id'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-06-17 14:51:49.146 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-17 14:51:49.148 -05:00 [INF] Hosting environment: Development
2024-06-17 14:51:49.148 -05:00 [INF] Content root path: C:\hnavarro\Personal\Repository\TektonLabs\src\TektonLabs.Challenge.API
2024-06-17 14:51:49.282 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44332/swagger/index.html - null null
2024-06-17 14:51:49.795 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44332/_framework/aspnetcore-browser-refresh.js - null null
2024-06-17 14:51:49.795 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44332/_vs/browserLink - null null
2024-06-17 14:51:49.798 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44332/swagger/index.html - 200 null text/html;charset=utf-8 526.2962ms
2024-06-17 14:51:49.808 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44332/_framework/aspnetcore-browser-refresh.js - 200 13784 application/javascript; charset=utf-8 5.8744ms
2024-06-17 14:51:49.893 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44332/_vs/browserLink - 200 null text/javascript; charset=UTF-8 97.5209ms
2024-06-17 14:51:49.934 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44332/swagger/v1/swagger.json - null null
2024-06-17 14:51:50.158 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44332/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 223.6433ms
2024-06-17 14:51:55.868 -05:00 [INF] Request starting HTTP/2 POST https://localhost:44332/api/products - application/json 110
2024-06-17 14:51:55.891 -05:00 [INF] Executing endpoint 'TektonLabs.Challenge.API.Controllers.Product.ProductsController.Create (TektonLabs.Challenge.API)'
2024-06-17 14:51:55.942 -05:00 [INF] Route matched with {action = "Create", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(TektonLabs.Challenge.Application.Products.CreateProduct.CreateProductCommand, System.Threading.CancellationToken) on controller TektonLabs.Challenge.API.Controllers.Product.ProductsController (TektonLabs.Challenge.API).
2024-06-17 14:51:56.099 -05:00 [INF] Ejecutando el request: CreateProductCommand
2024-06-17 14:52:01.217 -05:00 [ERR] El comando CreateProductCommand tuvo errores
TektonLabs.Challenge.Application.Exceptions.ValidationException: Exception of type 'TektonLabs.Challenge.Application.Exceptions.ValidationException' was thrown.
   at TektonLabs.Challenge.Application.Abstractions.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\hnavarro\Personal\Repository\TektonLabs\src\TektonLabs.Challenge.Application\Abstractions\Behaviors\ValidationBehavior.cs:line 44
   at LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\hnavarro\Personal\Repository\TektonLabs\src\TektonLabs.Challenge.Application\Abstractions\Behaviors\LoggingBehavior.cs:line 27
2024-06-17 14:52:01.279 -05:00 [INF] Executed action TektonLabs.Challenge.API.Controllers.Product.ProductsController.Create (TektonLabs.Challenge.API) in 5332.948ms
2024-06-17 14:52:01.280 -05:00 [INF] Executed endpoint 'TektonLabs.Challenge.API.Controllers.Product.ProductsController.Create (TektonLabs.Challenge.API)'
2024-06-17 14:56:52.982 -05:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2024-06-17 14:56:53.102 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2024-06-17 14:56:53.128 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-06-17 14:56:53.168 -05:00 [INF] No migrations were applied. The database is already up to date.
2024-06-17 14:56:53.775 -05:00 [ERR] Failed executing DbCommand (19ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 132), @p2='?' (Size = 18), @p3='?' (DbType = Int32), @p4='?' (DbType = Decimal), @p5='?' (Size = 3), @p6='?' (DbType = Int32), @p7='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Product" ("Id", "Description", "Name", "Status", "Stock", "Price_CurrencyType", "Price_DiscountPercent", "Price_Value")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-06-17 14:56:53.842 -05:00 [ERR] An exception occurred in the database while saving changes for context type 'TektonLabs.Challenge.Infraestructure.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'UNIQUE constraint failed: Product.Id'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'UNIQUE constraint failed: Product.Id'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-06-17 14:56:54.403 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-17 14:56:54.404 -05:00 [INF] Hosting environment: Development
2024-06-17 14:56:54.404 -05:00 [INF] Content root path: C:\hnavarro\Personal\Repository\TektonLabs\src\TektonLabs.Challenge.API
2024-06-17 14:56:54.557 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44332/swagger/index.html - null null
2024-06-17 14:56:55.188 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44332/_framework/aspnetcore-browser-refresh.js - null null
2024-06-17 14:56:55.188 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44332/_vs/browserLink - null null
2024-06-17 14:56:55.188 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44332/swagger/index.html - 200 null text/html;charset=utf-8 603.4611ms
2024-06-17 14:56:55.205 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44332/_framework/aspnetcore-browser-refresh.js - 200 13784 application/javascript; charset=utf-8 8.8313ms
2024-06-17 14:56:55.264 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44332/_vs/browserLink - 200 null text/javascript; charset=UTF-8 76.2376ms
2024-06-17 14:56:55.312 -05:00 [INF] Request starting HTTP/2 GET https://localhost:44332/swagger/v1/swagger.json - null null
2024-06-17 14:56:55.502 -05:00 [INF] Request finished HTTP/2 GET https://localhost:44332/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 188.6091ms
2024-06-17 14:58:15.282 -05:00 [INF] Request starting HTTP/2 POST https://localhost:44332/api/products - application/json 110
2024-06-17 14:58:15.301 -05:00 [INF] Executing endpoint 'TektonLabs.Challenge.API.Controllers.Product.ProductsController.Create (TektonLabs.Challenge.API)'
2024-06-17 14:58:15.357 -05:00 [INF] Route matched with {action = "Create", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(TektonLabs.Challenge.Application.Products.CreateProduct.CreateProductCommand, System.Threading.CancellationToken) on controller TektonLabs.Challenge.API.Controllers.Product.ProductsController (TektonLabs.Challenge.API).
2024-06-17 14:58:15.504 -05:00 [INF] Ejecutando el request: CreateProductCommand
2024-06-17 14:58:15.765 -05:00 [ERR] El comando CreateProductCommand tuvo errores
TektonLabs.Challenge.Application.Exceptions.ValidationException: Exception of type 'TektonLabs.Challenge.Application.Exceptions.ValidationException' was thrown.
   at TektonLabs.Challenge.Application.Abstractions.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\hnavarro\Personal\Repository\TektonLabs\src\TektonLabs.Challenge.Application\Abstractions\Behaviors\ValidationBehavior.cs:line 43
   at LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\hnavarro\Personal\Repository\TektonLabs\src\TektonLabs.Challenge.Application\Abstractions\Behaviors\LoggingBehavior.cs:line 27
2024-06-17 14:58:15.904 -05:00 [INF] Executed action TektonLabs.Challenge.API.Controllers.Product.ProductsController.Create (TektonLabs.Challenge.API) in 538.6111ms
2024-06-17 14:58:15.907 -05:00 [INF] Executed endpoint 'TektonLabs.Challenge.API.Controllers.Product.ProductsController.Create (TektonLabs.Challenge.API)'
2024-06-17 14:58:16.083 -05:00 [INF] Request finished HTTP/2 POST https://localhost:44332/api/products - 400 null application/json; charset=utf-8 800.3472ms
